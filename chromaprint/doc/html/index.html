<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Chromaprint: Chromaprint</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Chromaprint
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Chromaprint </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="intro"></a>
Introduction</h1>
<p>Chromaprint is a library for generating audio fingerprints, mainly to be used with the <a href="https://acoustid.org">AcoustID</a> service.</p>
<p>It needs raw audio stream (16-bit signed int) on input. The audio can have any sampling rate and any number of channels. Typically, you would use some native library for decoding compressed audio files and feed the result into Chromaprint.</p>
<p>Audio fingerprints returned from the library can be represented either as base64-encoded strings or 32-bit integer arrays. The base64-encoded strings are usually what's used externally when you need to send the fingerprint to a service. You can't directly compare the fingerprints in such form. The 32-bit integer arrays are also called "raw fingerprints" and they represent the internal structure of the fingerprints. If you want to compare two fingerprints yourself, you probably want them in this form.</p>
<h1><a class="anchor" id="generating"></a>
Generating fingerprints</h1>
<p>Here is a simple example code that generates a fingerprint from audio samples in memory:</p>
<div class="fragment"><div class="line"><a class="code" href="chromaprint_8h.html#ad920a3704d2a4efab2af41019ec3952a">ChromaprintContext</a> *ctx;</div><div class="line"><span class="keywordtype">char</span> *fp;</div><div class="line"></div><div class="line"><span class="keyword">const</span> <span class="keywordtype">int</span> sample_rate = 44100;</div><div class="line"><span class="keyword">const</span> <span class="keywordtype">int</span> num_channels = 2;</div><div class="line"></div><div class="line">ctx = <a class="code" href="chromaprint_8h.html#a84e867dcb8c49624a4eb8b0ab62d6932">chromaprint_new</a>(<a class="code" href="chromaprint_8h.html#a1c8e759727c4fa657164a0a06b6d8145abce6c9ae61af996cabd7e322220f42ad">CHROMAPRINT_ALGORITHM_DEFAULT</a>);</div><div class="line"></div><div class="line"><a class="code" href="chromaprint_8h.html#a1e12a87c377a31b9e9f3818f3310e266">chromaprint_start</a>(ctx, sample_rate, num_channels);</div><div class="line"><span class="keywordflow">while</span> (has_more_data) {</div><div class="line">    <a class="code" href="chromaprint_8h.html#af32c98b374957f828f5e635ad2e34c01">chromaprint_feed</a>(ctx, data, size);</div><div class="line">}</div><div class="line"><a class="code" href="chromaprint_8h.html#a4c0e193ab9db9973eac569da3620a63d">chromaprint_finish</a>(ctx);</div><div class="line"></div><div class="line"><a class="code" href="chromaprint_8h.html#a8701423cf3ce873bef57304affddd616">chromaprint_get_fingerprint</a>(ctx, &amp;fp);</div><div class="line">printf(<span class="stringliteral">&quot;%s\n&quot;</span>, fp);</div><div class="line"><a class="code" href="chromaprint_8h.html#aa2e2773ead1b3b8786f5d46e73d258f8">chromaprint_dealloc</a>(fp);</div><div class="line"></div><div class="line"><a class="code" href="chromaprint_8h.html#ad91bdf37462853d66396a94d167e5967">chromaprint_free</a>(ctx);</div></div><!-- fragment --><p>Note that there is no error handling in the code above. Almost any of the called functions can fail. You should check the return values in an actual code. </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
